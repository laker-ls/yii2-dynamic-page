# Управление типами (категорий/статей)

Управление по умолчанию осуществляется на странице <b>/dynamic-page/type/index</b>

## Для чего нужны

Благодаря типу, модуль узнает какое представление отображать для категории или статьи. Для каждого типа указывается
его область видимости, что позволяет отображать в выпадающих полях (dropDown) только актуальные позиции, подробнее ниже.

## Описание полей формы

Поля указываются в формате: <b>Заголовок(наименование в БД)</b>.

<b>Наименование (name)</b> - Отображается в выпадающем списке форм категорий и статей.

<b>Тип содержимого(type)</b> - Значение, которое определяет тип содержимого. Если значение данного поля будет `blog`, 
то файлы представления в `views/dynamic-page` должны находиться в папке `views/dynamic-page/blog` и иметь следующие имена: <br />
`blogCategory` - для категорий. <br />
`blogArticle` - для статей.

<b>Разрешено назначать категориям(category)</b> - Если значение равно `1`, то данный тип будет доступен для выбора
при создании/редактировании категории.

<b>Разрешено назначать статьям(article)</b> - Если значение равно `1`, то данный тип будет доступен для выбора
при создании/редактировании статьи.

<b>Категории могут содержать в себе статьи.(nested)</b> - Используется только для категорий. Если значение равно `1`, 
то категории использующие данный тип будут в списке категорий, при создании статей, т.е. в данных категориях могут быть созданы статьи.

<b>Активные поля для статей.(select)</b> - Используется только для статей. Указываются поля, которые будут отображены
при создании/редактировании статьи. Наименования полей получаются из `attributeLabels()` `Article` модели.

## Использование

По сути, типов должно быть ровно столько, сколько видов представлений у вас существует.

Так же имейте ввиду, что один и тот же тип для категории и статьи имеет разное представление, 
тем самым можно объеденить в группу категории и статьи. Если тип статьи совпадает с типом категории, то при создании
статьи в модальном окне не будет выбора "Дизайна"(типа) статьи, автоматически будет выбран текущий шаблон.

Следите за тем, что бы все типы имели представления (за исключением пустого типа), во избежание ошибок. Если тип
не имеющий представления будет назначен для категории или статьи, возникнет ошибка.

## Пустой тип

Вы можете создать тип с пустым полем <b>Тип содержимого</b>, который будете назначать для категорий, которые имеют
путь на статическое представление, к примеру создать категорию для главной, где будет указан путь на `site/index`.

Какой бы тип небыл задан, при совпадение адреса со статической страницей, будет отображена статическая. Данный
тип не обязателен, однако добавляет ясности при администрировании категорий, а так же при переходе на страницу
со статическим типом будет выброшено исключение, ошибка "422", если статическая страница по данному пути не существует.

> ВНИМАНИЕ: Пустой тип создается по умолчанию во время миграции. Вы можете изменить его "Наименование", но "Тип содержимого" должен
оставаться `static`.